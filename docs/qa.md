ゲームフロー関連

1. プレイヤーの振り分け —
   ゲーム開始時、プレイヤーをどうチームに割り当てるのか？事前に手動割り当て済み？自動振り分け？サーバー全員が参加対象？

事前に割り当て済み
ただしチームに参加していないプレイヤーを分散してチームに参加させるコマンドを用意しておく
このコマンドのチーム振り分け対象は
チーム名がkcdk.hoge であること
チーム名はkcdk.admin でないこと
チーム名がkcdk.hoge.fuga,,, の形でないこと



2. ロールの扱い — configにはチーム内に「ロール」がありますが、ルールにロールの記述がありません。ロールごとにエフェクト・リ
   スポーン地点・リスポーン回数が異なる想定ですか？ロールの割り当て方法は？

いったんconfig.mdの情報を見て再度質問して
例えばred teamにcaptain というロールがある場合
kcdk.red.captain というチームが存在します

また、importコマンドを実行した場合これらのチームが自動で作られることとします

3. 待機地点での「動けなくなる」 — 移動のみ不可（視点変更は可能）？それともフリーズ（移動+視点+操作全て不可）？
プレイヤーをスペクテイターモードに変更してその場でフリーズさせて

4. リスポーン時のエフェクト — リスポーンするたびにエフェクトを再付与するのか、ゲーム開始時の1回だけか？
リスポーンするたび付与

終了条件関連

5. 終了条件の判定タイミング — 毎tick？イベント駆動（プレイヤー死亡時など）？

毎tick確認して

6. 制限時間到達 vs 終了条件達成 — 制限時間到達時に表示するメッセージは？終了条件のメッセージとは別に必要？

TimeUp!!!と表示する

7. Beacon条件の具体的な判定 —
   configに座標とHPがありますが、何をもって「ビーコン破壊」とするのか？特定座標のブロック破壊？専用エンティティ？

座標地点にMinecraft標準のビーコンが生成される
ビーコンが破壊されるとHPが1減る
ビーコンが破壊されると即座に同じ場所にビーコンが設置される

8. Ticket条件 — チケット数は何で消費されるのか？キル？死亡？

プレイヤーが死ぬとチケットが減る 0になると負け
チームでチケットが共有されるのでロール独自でチケットを持つことはなred.hogeロールはredチームのチケットを消費することになる

9. Composite条件（AND） — すべて満たした瞬間に終了？どの条件のメッセージを表示する？
   Composite条件はすべてを満たしたときに終了。メッセージはComposite条件に対して設定されるので子条件にメッセージはない

UI関連

10. アクションバーの更新頻度 — 毎tick？毎秒？

毎tick 非同期

11. ゲーム終了後のtab名変更 — ゲーム終了後いつまで表示し続ける？/kcdk game stopや次のゲーム開始で元に戻す？

/kcdk clear
コマンドを用意してそれで消す
また新たなゲームが始まった場合も消す
サーバーが落ちるときなども消す

その他

12. 途中参加・途中退出 — ゲーム中にログアウト/ログインしたプレイヤーの扱いは？

ログアウトすると一時敵に死亡したものと見なす
ゲーム中にログアウトしたプレイヤーの状態は保持して起き復帰可能とする
ゲーム開始時にオンラインでないプレイヤーは途中参加不可、スペクテイターとする

13. /kcdk game stop — 強制終了時もシャットダウンコマンドは実行される？終了メッセージは表示する？
実行する。ゲームが強制終了しました。と表示

14. チーム構造とScoreboard — qa回答からkcdk.red, kcdk.red.captainのようなScoreboardチームが
    自動作成される理解だが、ゲーム開始時にオンラインのプレイヤーのみを対象にする？
    kcdk.adminチームのプレイヤーはゲームに参加しない観戦者扱い？

チームへの参加は原則手動or自動割り振りコマンドを開始前に実行する前に行うためチーム自体への参加は可能だが、ゲーム開始時点でオフラインならゲームには参加できない
adminは参加しない

15. ロールの継承ルール — Roleにnullのフィールドがある場合、所属チームの値をフォールバックする理解で合っている？
    extendsEffectsがtrueの場合、チームのエフェクト＋ロール独自のエフェクトの両方が付与される？

両方ともその理解でよい

16. Bossbarの用途 — configにBossbar(mcid)があるが、ゲーム中の具体的な使い方は？
    制限時間の表示？ビーコンHPの表示？それとも別の用途？

ダメージを与えた敵の体力を１秒間ダメージを与えたプレイヤーのみに表示する

17. ゲームモード(ADVENTURE/SURVIVAL) — ゲーム開始時にプレイヤーのゲームモードをこの値に設定する？
    待機中はスペクテイターとのことだが、ゲーム開始後にこのモードに切り替える？

ゲーム開始後にこのモードに切り替える

18. Beacon条件の所属 — ビーコンはどのチームに属するのか？条件のteamフィールドがないが、
    どのチームのビーコンかをどう判別する？それとも全体で共有のオブジェクト？

ビーコンはチームに属さない
遊び方としてはチームごとにビーコンを用意して防衛戦をする想定だが内部的にはどのチームのビーコンとかない
というよりこのゲームは内部的には勝利敗北というのは存在せず終了条件に〇チームの勝ち/負けといったメッセージを設定して表示するのみである

19. Ticket条件の方向 — 「チケットが0になると負け」とあるが、終了条件としては
    「指定チームのチケットが0以下になったら条件達成（＝そのチームの負け）」という理解で合っている？
    countフィールドはチケットの初期値？

    countフィールドはチケットの初期値 なくなったらゲームが終了する

20. 死亡時の処理詳細 — プレイヤーが死亡した場合、即座にリスポーン（自動リスポーン）？
    それともデス画面を表示してからリスポーン？

デス画面を表示して手動リスポーン

21. スペクテイター化後の扱い — リスポーン回数0で死亡しスペクテイターになったプレイヤーは、
    他プレイヤーの視点に切り替え可能？行動範囲に制限はある？

ない

22. アーマーカラー — チームのarmorColorはゲーム開始時にプレイヤーに染色済み革防具を装備させる？
    それとも別の用途（ネームタグの色など）？

装備させる

23. extendsItem — ロールにextendsItemフラグがあるが、アイテムの設定がconfigに見当たらない。
    これは将来的な機能？それとも今回実装する？

将来的に実装

24. 自動割り振りコマンド — チーム未参加プレイヤーを分散配置するコマンドの形式は？
    /kcdk assign のような形？ロールへの振り分けもする？それともチーム(kcdk.red等)にのみ振り分け？

/kcdk　team assign

このコマンドのチーム振り分け対象は
チーム名がkcdk.hoge であること
チーム名がkcdk.admin でないこと
チーム名がkcdk.hoge.fuga,,, の形でないこと
つまりロールには振り分けられない
ロールへの振り分けはMinecraft標準のチームコマンドによってのみ

25. Beacon設置タイミング — ビーコンブロックの設置はゲーム開始時に自動で行う？
    破壊→再設置のサイクルで、HPが0になったらビーコンは消滅してそのまま？

ゲーム開始時に自動で行う
0になってもビーコン自体は再設置される

26. ビーコン破壊の検知 — ビーコンブロックが壊されたことの検知はBlockBreakEvent？
    ビーコンの上に置かれたブロックなども対象？それとも指定座標のブロックのみ？

BlockBreakEvent
指定座標のみ


27. 死亡→リスポーン時の処理 — 手動リスポーン後にリスポーン地点にTPしてエフェクト付与する流れだが、
    インベントリやアイテムはどうする？死亡時にドロップしたアイテムはそのまま？
    リスポーン時に革防具を再装備させる？

原則keepInventoryで遊ぶがこのプラグインでは制御しない　ドロップしたアイテムはそのまま
リスポーン時はいったんアイテムをクリアして防具は再度装着される

一つ要件追加
防具がないパターンもあるので
チーム　ロールに対して 防具の有無を設定する項目をwebおよびプラグインに反映させて

28. 待機フェーズの詳細 — 待機地点でスペクテイターにしてフリーズとのことだが、
    全チームの待機時間が異なる場合、全チームの待機が終わるまで待つ？
    それとも待機が終わったチームから順次ゲーム開始？

チームごとにそれぞれ処理する

29. Bossbar(ダメージ表示)の詳細 — ダメージを与えた敵の体力を表示するとのことだが、
    Bossbarのmcidフィールドは何に使う？表示名？それとも不要？

さっきの回答は間違いでした
mcidフィールドに設定されたプレイヤーの体力を全員にすべて表示します

30. /kcdk clear — tab名のリセット以外にも何かクリアする？（スコアボードチームの削除など）
いったんは考えてない

31. 防具の有無設定 — チーム/ロールに「防具あり/なし」のbooleanフィールドを追加する理解で合っている？
    防具なしの場合、リスポーン時にアイテムクリアのみで革防具は装備しない？
    ヘルメット・チェストプレート・レギンス・ブーツの4部位すべて？

防具は胴体のみ
それ以外はそもそも装備されない

32. Bossbar詳細 — mcidのプレイヤーの体力をBossBarで全員に常時表示する？
    複数のBossbarが設定可能？それとも1つだけ？

全員に常時表示
設定は１人のみ

33. importコマンド時のチーム自動作成 — config importでScoreboardチームを自動作成するとのことだが、
    既存のkcdk.*チームがある場合は削除してから再作成？それとも差分更新？

ある場合はそのまま使う

34. Bug#3 色変更について — 「Minecraft標準のチームカラーをチーム・ロールごとに選べるようにする」とあるが、
    現在armorColorは任意のHEXカラー(#ef4444など)で設定されている。
    これをMinecraft標準の16色(RED, BLUE, GREEN等のChatColor)に限定するということか？
    それとも既存のHEXカラーはそのまま防具に使い、それとは別にScoreboardチームのteamColorを
    Minecraft標準色から選ぶ設定を追加するということか？

HEXカラーは廃止 Minecraft標準色から選ぶ仕様に限定する

35. Bug#3 チームカラー設定の適用タイミング — Scoreboardチームにcolor()を設定するのは
    config import時？ゲーム開始時？両方？

ゲーム開始時、import時の両方